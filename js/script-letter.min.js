let popupLetter=document.querySelector(".modal-letter"),openLetter=document.querySelector(".open-form-button"),closeLetter=popupLetter.querySelector(".close-button"),form=popupLetter.querySelector(".letter-form"),userName=popupLetter.querySelector(".letter-login"),userEmail=popupLetter.querySelector(".letter-email"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}openLetter.addEventListener("click",function(e){e.preventDefault(),popupLetter.classList.add("modal--show-letter"),storage&&(userEmail.value=storage),userName.focus()}),closeLetter.addEventListener("click",function(){popupLetter.classList.remove("modal--show-letter"),popupLetter.classList.remove("modal--error")}),window.addEventListener("keydown",function(e){"Escape"!=e.key&&"Esc"!=e.key||(popupLetter.classList.remove("modal--show-letter"),popupLetter.classList.remove("modal--error"))}),form.addEventListener("submit",function(e){userName.value&&userEmail.value?isStorageSupport&&localStorage.setItem("email",userEmail.value):(e.preventDefault(),popupLetter.classList.remove("modal--error"),popupLetter.offsetWidth=popupLetter.offsetWidth,popupLetter.classList.add("modal--error"))});
